const translations = {
  en: {
    nav_home: 'Home',
    nav_products: 'Products',
    nav_contact: 'Contact',
    theme_toggle: 'Toggle Theme',
    language_label: 'Language',
    home_title: 'Kentack Luxury Golf Experience',
    home_desc: 'Discover high-end golf gear for champions.',
    hero_cta: 'Shop Now',
    story_title: 'Message from Ken Karahawa',
    story_message: `The name Golf Honma has long symbolized top-class Japanese craftsmanship, admired by golfers worldwide. Our KENTACK brand carries forward this proud tradition and superior techniques. Founded in 2007 by Yukihiro Honma, co-founder of Honma Golf, KENTACK was created to preserve the spirit and identity of the original Honma legacy after the brand became foreign-owned.\n\nYukihiro Honma, a master craftsman, once produced the finest clubs under the name HIRO HONMA, blending performance and beauty with over 50 years of expertise. With KENTACK, he revived that genuine tradition. Though he has since stepped back, his techniques and philosophy remain at the heart of our work.\n\nToday, KENTACK continues to craft elegant, precise, and high-performing clubs through meticulous Japanese artistry. We are committed to honoring our heritage while advancing technology, delivering top-quality clubs that add value for discerning golfers worldwide.`,
    products_title: 'Our Products',
    product1_name: 'Golden Irons Set',
    product1_desc: 'Complete set of handcrafted gold-plated irons.',
    product1_price: '$1,200',
    product2_name: 'Golden Driver',
    product2_desc: 'Precision driver with gold finish.',
    product2_price: '$800',
    product3_name: 'DragonEyes Putter',
    product3_desc: 'Artisan putter with detailed engraving.',
    product3_price: '$600',
    category_clubs: 'Clubs',
    category_bags: 'Bags',
    category_balls: 'Balls',
    category_tees: 'Tees',
    category_accessories: 'Accessories',
    club_woods: 'Woods',
    club_irons: 'Irons',
    club_hybrids: 'Hybrids',
    club_wedges: 'Wedges',
    club_putters: 'Putters',
    view_4x4: '4 x 4',
    view_5x5: '5 x 5',
    no_products: 'No products available.',
    product_bag_name: 'Leather Golf Bag',
    product_bag_desc: 'Premium leather bag for style and durability.',
    product_bag_price: '$500',
    product_balls_name: 'Premium Golf Balls',
    product_balls_desc: 'Set of 12 high-performance balls.',
    product_balls_price: '$60',
    product_tees_name: 'Luxury Tees Pack',
    product_tees_desc: 'Gold-plated tees for perfect drives.',
    product_tees_price: '$40',
    product_accessory_name: 'Gold Ball Marker',
    product_accessory_desc: 'Elegant marker with Kentack logo.',
    product_accessory_price: '$25',
    contact_title: 'Contact Us',
    contact_phone: 'Phone: 0899033692',
    contact_location_title: 'Location',
    contact_location: 'Phá»‘ TÃ¢n Má»¹, PhÆ°Æ¡ng Quan, Nam Tá»« LiÃªm, HÃ  Ná»™i, Vietnam'
  },
  vi: {
    nav_home: 'Trang chá»§',
    nav_products: 'Sáº£n pháº©m',
    nav_contact: 'LiÃªn há»‡',
    theme_toggle: 'Äá»•i chá»§ Ä‘á»',
    language_label: 'NgÃ´n ngá»¯',
    home_title: 'Kentack - Tráº£i nghiá»‡m Golf Sang Trá»ng',
    home_desc: 'KhÃ¡m phÃ¡ thiáº¿t bá»‹ golf cao cáº¥p dÃ nh cho nhÃ  vÃ´ Ä‘á»‹ch.',
    hero_cta: 'Mua Ngay',
    story_title: 'ThÃ´ng Ä‘iá»‡p tá»« Ken Karahawa',
    story_message: `TÃªn Golf Honma tá»« lÃ¢u Ä‘Ã£ tÆ°á»£ng trÆ°ng cho tay nghá» Nháº­t Báº£n Ä‘áº³ng cáº¥p, Ä‘Æ°á»£c cÃ¡c golfer trÃªn toÃ n tháº¿ giá»›i ngÆ°á»¡ng má»™. ThÆ°Æ¡ng hiá»‡u KENTACK cá»§a chÃºng tÃ´i tiáº¿p ná»‘i truyá»n thá»‘ng Ä‘Ã¡ng tá»± hÃ o vÃ  ká»¹ thuáº­t Æ°u viá»‡t Ä‘Ã³. ÄÆ°á»£c thÃ nh láº­p nÄƒm 2007 bá»Ÿi Ã´ng Yukihiro Honma, Ä‘á»“ng sÃ¡ng láº­p Honma Golf, KENTACK ra Ä‘á»i Ä‘á»ƒ gÃ¬n giá»¯ tinh tháº§n vÃ  báº£n sáº¯c di sáº£n Honma nguyÃªn báº£n sau khi thÆ°Æ¡ng hiá»‡u trá»Ÿ thÃ nh sá»Ÿ há»¯u nÆ°á»›c ngoÃ i.\n\nYukihiro Honma, má»™t báº­c tháº§y cháº¿ tÃ¡c, tá»«ng táº¡o ra nhá»¯ng cÃ¢y gáº­y hoÃ n háº£o nháº¥t dÆ°á»›i tÃªn HIRO HONMA, káº¿t há»£p hiá»‡u suáº¥t vÃ  váº» Ä‘áº¹p vá»›i hÆ¡n 50 nÄƒm kinh nghiá»‡m. Vá»›i KENTACK, Ã´ng Ä‘Ã£ há»“i sinh truyá»n thá»‘ng chÃ¢n chÃ­nh Ä‘Ã³. DÃ¹ nay Ã´ng Ä‘Ã£ lui vá», ká»¹ thuáº­t vÃ  triáº¿t lÃ½ cá»§a Ã´ng váº«n lÃ  cá»‘t lÃµi trong cÃ´ng viá»‡c cá»§a chÃºng tÃ´i.\n\nNgÃ y nay, KENTACK tiáº¿p tá»¥c cháº¿ tÃ¡c nhá»¯ng cÃ¢y gáº­y thanh lá»‹ch, chÃ­nh xÃ¡c vÃ  hiá»‡u suáº¥t cao báº±ng nghá»‡ thuáº­t Nháº­t Báº£n tá»‰ má»‰. ChÃºng tÃ´i cam káº¿t tÃ´n vinh di sáº£n Ä‘á»“ng thá»i phÃ¡t triá»ƒn cÃ´ng nghá»‡, mang Ä‘áº¿n nhá»¯ng cÃ¢y gáº­y cháº¥t lÆ°á»£ng hÃ ng Ä‘áº§u táº¡o giÃ¡ trá»‹ cho cÃ¡c golfer sÃ nh Ä‘iá»‡u trÃªn toÃ n tháº¿ giá»›i.`,
    products_title: 'Sáº£n pháº©m cá»§a chÃºng tÃ´i',
    product1_name: 'Bá»™ Gáº­y Sáº¯t Máº¡ VÃ ng',
    product1_desc: 'Bá»™ gáº­y sáº¯t máº¡ vÃ ng cháº¿ tÃ¡c thá»§ cÃ´ng hoÃ n háº£o.',
    product1_price: '1.200 USD',
    product2_name: 'Gáº­y Driver Máº¡ VÃ ng',
    product2_desc: 'Driver chÃ­nh xÃ¡c vá»›i lá»›p phá»§ vÃ ng.',
    product2_price: '800 USD',
    product3_name: 'Gáº­y Putter DragonEyes',
    product3_desc: 'Gáº­y putter thá»§ cÃ´ng vá»›i cháº¡m kháº¯c tinh xáº£o.',
    product3_price: '600 USD',
    category_clubs: 'Gáº­y',
    category_bags: 'TÃºi',
    category_balls: 'BÃ³ng',
    category_tees: 'Tee',
    category_accessories: 'Phá»¥ kiá»‡n',
    club_woods: 'Gáº­y gá»—',
    club_irons: 'Gáº­y sáº¯t',
    club_hybrids: 'Gáº­y lai',
    club_wedges: 'Gáº­y wedge',
    club_putters: 'Gáº­y putter',
    view_4x4: '4 x 4',
    view_5x5: '5 x 5',
    no_products: 'KhÃ´ng cÃ³ sáº£n pháº©m.',
    product_bag_name: 'TÃºi Golf Da',
    product_bag_desc: 'TÃºi da cao cáº¥p bá»n bá»‰ vÃ  phong cÃ¡ch.',
    product_bag_price: '500 USD',
    product_balls_name: 'BÃ³ng Golf Cao Cáº¥p',
    product_balls_desc: 'Bá»™ 12 bÃ³ng hiá»‡u suáº¥t cao.',
    product_balls_price: '60 USD',
    product_tees_name: 'Bá»™ Tee Sang Trá»ng',
    product_tees_desc: 'Tee máº¡ vÃ ng cho cÃº Ä‘Ã¡nh hoÃ n háº£o.',
    product_tees_price: '40 USD',
    product_accessory_name: 'Dáº¥u BÃ³ng VÃ ng',
    product_accessory_desc: 'Dáº¥u bÃ³ng thanh lá»‹ch vá»›i logo Kentack.',
    product_accessory_price: '25 USD',
    contact_title: 'LiÃªn há»‡ vá»›i chÃºng tÃ´i',
    contact_phone: 'Äiá»‡n thoáº¡i: 0899033692',
    contact_location_title: 'Äá»‹a chá»‰',
    contact_location: 'Phá»‘ TÃ¢n Má»¹, PhÆ°Æ¡ng Quan, Nam Tá»« LiÃªm, HÃ  Ná»™i, Vietnam'
  },
  ja: {
    nav_home: 'ãƒ›ãƒ¼ãƒ ',
    nav_products: 'è£½å“',
    nav_contact: 'ãŠå•ã„åˆã‚ã›',
    theme_toggle: 'ãƒ†ãƒ¼ãƒžåˆ‡æ›¿',
    language_label: 'è¨€èªž',
    home_title: 'Kentack ãƒ©ã‚°ã‚¸ãƒ¥ã‚¢ãƒªãƒ¼ãªã‚´ãƒ«ãƒ•ä½“é¨“',
    home_desc: 'ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã®ãŸã‚ã®é«˜ç´šã‚´ãƒ«ãƒ•ç”¨å“ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ã€‚',
    hero_cta: 'ä»Šã™ãè³¼å…¥',
    story_title: 'å”å·ã‚±ãƒ³ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸',
    story_message: `ã€Œã‚´ãƒ«ãƒ•æœ¬é–“ã€ã¨ã„ã†åå‰ã¯ã€é•·å¹´ã«ã‚ãŸã‚Šæ—¥æœ¬æœ€é«˜å³°ã®è·äººæŠ€ã®è±¡å¾´ã¨ã—ã¦ã€ä¸–ç•Œä¸­ã®ã‚´ãƒ«ãƒ•ã‚¡ãƒ¼ã«æ„›ã•ã‚Œã¦ãã¾ã—ãŸã€‚ç§ãŸã¡ã®KENTACKãƒ–ãƒ©ãƒ³ãƒ‰ã¯ã€ã“ã®èª‡ã‚Šé«˜ã„ä¼çµ±ã¨å„ªã‚ŒãŸæŠ€è¡“ã‚’å—ã‘ç¶™ã„ã§ã„ã¾ã™ã€‚KENTACKã¯æœ¬é–“ã‚´ãƒ«ãƒ•ã®å…±åŒå‰µæ¥­è€…ã€æœ¬é–“å¹¸å®ã«ã‚ˆã£ã¦2007å¹´ã«è¨­ç«‹ã•ã‚Œã€ãƒ–ãƒ©ãƒ³ãƒ‰ãŒå¤–å›½è³‡æœ¬ã¨ãªã£ãŸå¾Œã‚‚æœ¬æ¥ã®æœ¬é–“ã®ç²¾ç¥žã¨ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’å®ˆã‚‹ãŸã‚ã«ç”Ÿã¾ã‚Œã¾ã—ãŸã€‚\n\nååŒ ã§ã‚ã‚‹æœ¬é–“å¹¸å®ã¯ã€ã‹ã¤ã¦HIRO HONMAã®åã§æœ€é«˜ç´šã®ã‚¯ãƒ©ãƒ–ã‚’ä½œã‚Šä¸Šã’ã€50å¹´ä»¥ä¸Šã®çµŒé¨“ã§æ€§èƒ½ã¨ç¾Žã‚’èžåˆã•ã›ã¾ã—ãŸã€‚KENTACKã«ã‚ˆã£ã¦å½¼ã¯ãã®çœŸã®ä¼çµ±ã‚’å¾©æ´»ã•ã›ã¾ã—ãŸã€‚ç¾åœ¨ã¯ç¬¬ä¸€ç·šã‚’é€€ã„ã¦ã„ã¾ã™ãŒã€å½¼ã®æŠ€è¡“ã¨ç†å¿µã¯ä»Šã‚‚ç§ãŸã¡ã®ä¸­å¿ƒã«ã‚ã‚Šã¾ã™ã€‚\n\nä»Šæ—¥ã®KENTACKã¯ã€ç·»å¯†ãªæ—¥æœ¬ã®è·äººæŠ€ã§ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆã§ç²¾å¯†ã€ãã—ã¦é«˜æ€§èƒ½ãªã‚¯ãƒ©ãƒ–ã‚’ä½œã‚Šç¶šã‘ã¦ã„ã¾ã™ã€‚ç§ãŸã¡ã¯éºç”£ã‚’å°Šé‡ã—ã¤ã¤æŠ€è¡“ã‚’é€²åŒ–ã•ã›ã€ä¸–ç•Œä¸­ã®ç›®ã®è‚¥ãˆãŸã‚´ãƒ«ãƒ•ã‚¡ãƒ¼ã«ä¾¡å€¤ã‚ã‚‹æœ€é«˜å“è³ªã®ã‚¯ãƒ©ãƒ–ã‚’æä¾›ã—ç¶šã‘ã¾ã™ã€‚`,
    products_title: 'è£½å“ä¸€è¦§',
    product1_name: 'ã‚´ãƒ¼ãƒ«ãƒ‰ã‚¢ã‚¤ã‚¢ãƒ³ã‚»ãƒƒãƒˆ',
    product1_desc: 'æ‰‹ä½œã‚Šã®é‡‘ãƒ¡ãƒƒã‚­ã‚¢ã‚¤ã‚¢ãƒ³ã‚»ãƒƒãƒˆã€‚',
    product1_price: '1,200ãƒ‰ãƒ«',
    product2_name: 'ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ‰ãƒ©ã‚¤ãƒãƒ¼',
    product2_desc: 'ã‚´ãƒ¼ãƒ«ãƒ‰ä»•ä¸Šã’ã®ç²¾å¯†ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã€‚',
    product2_price: '800ãƒ‰ãƒ«',
    product3_name: 'ãƒ‰ãƒ©ã‚´ãƒ³ã‚¢ã‚¤ã‚ºãƒ‘ã‚¿ãƒ¼',
    product3_desc: 'ç²¾å·§ãªå½«åˆ»å…¥ã‚Šã®ãƒ‘ã‚¿ãƒ¼ã€‚',
    product3_price: '600ãƒ‰ãƒ«',
    category_clubs: 'ã‚¯ãƒ©ãƒ–',
    category_bags: 'ãƒãƒƒã‚°',
    category_balls: 'ãƒœãƒ¼ãƒ«',
    category_tees: 'ãƒ†ã‚£ãƒ¼',
    category_accessories: 'ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼',
    club_woods: 'ã‚¦ãƒƒãƒ‰',
    club_irons: 'ã‚¢ã‚¤ã‚¢ãƒ³',
    club_hybrids: 'ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰',
    club_wedges: 'ã‚¦ã‚§ãƒƒã‚¸',
    club_putters: 'ãƒ‘ã‚¿ãƒ¼',
    view_4x4: '4 x 4',
    view_5x5: '5 x 5',
    no_products: 'å•†å“ãŒã‚ã‚Šã¾ã›ã‚“ã€‚',
    product_bag_name: 'ãƒ¬ã‚¶ãƒ¼ã‚´ãƒ«ãƒ•ãƒãƒƒã‚°',
    product_bag_desc: 'ã‚¹ã‚¿ã‚¤ãƒ«ã¨è€ä¹…æ€§ã‚’å…¼ã­å‚™ãˆãŸé«˜ç´šãƒ¬ã‚¶ãƒ¼ãƒãƒƒã‚°ã€‚',
    product_bag_price: '500ãƒ‰ãƒ«',
    product_balls_name: 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã‚´ãƒ«ãƒ•ãƒœãƒ¼ãƒ«',
    product_balls_desc: 'é«˜æ€§èƒ½ãƒœãƒ¼ãƒ«12å€‹ã‚»ãƒƒãƒˆã€‚',
    product_balls_price: '60ãƒ‰ãƒ«',
    product_tees_name: 'ãƒ©ã‚°ã‚¸ãƒ¥ã‚¢ãƒªãƒ¼ãƒ†ã‚£ãƒ¼ã‚»ãƒƒãƒˆ',
    product_tees_desc: 'å®Œç’§ãªã‚·ãƒ§ãƒƒãƒˆã®ãŸã‚ã®é‡‘ãƒ¡ãƒƒã‚­ãƒ†ã‚£ãƒ¼ã€‚',
    product_tees_price: '40ãƒ‰ãƒ«',
    product_accessory_name: 'ã‚´ãƒ¼ãƒ«ãƒ‰ãƒœãƒ¼ãƒ«ãƒžãƒ¼ã‚«ãƒ¼',
    product_accessory_desc: 'Kentackãƒ­ã‚´å…¥ã‚Šã®ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆãªãƒžãƒ¼ã‚«ãƒ¼ã€‚',
    product_accessory_price: '25ãƒ‰ãƒ«',
    contact_title: 'ãŠå•ã„åˆã‚ã›',
    contact_phone: 'é›»è©±: 0899033692',
    contact_location_title: 'ä½æ‰€',
    contact_location: 'Phá»‘ TÃ¢n Má»¹, PhÆ°Æ¡ng Quan, Nam Tá»« LiÃªm, HÃ  Ná»™i, Vietnam'
  }
};

function setLanguage(lang) {
  localStorage.setItem('lang', lang);
  document.documentElement.lang = lang;
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });
}

function initLanguage() {
  const saved = localStorage.getItem('lang') || 'en';
  const select = document.getElementById('language-select');
  const toggle = document.getElementById('language-toggle');
  if (select) {
    select.value = saved;
    select.addEventListener('change', e => {
      setLanguage(e.target.value);
      select.classList.add('hidden');
    });
  }
  if (toggle && select) {
    toggle.addEventListener('click', () => {
      select.classList.toggle('hidden');
    });
  }
  setLanguage(saved);
}

function initTheme() {
  const saved = localStorage.getItem('theme');
  if (saved === 'dark') {
    document.body.classList.add('dark-theme');
  }
  const toggle = document.getElementById('theme-toggle');
  if (toggle) {
    const updateIcon = () => {
      toggle.textContent = document.body.classList.contains('dark-theme') ? 'â˜€ï¸' : 'ðŸŒ™';
    };
    updateIcon();
    toggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-theme');
      localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
      updateIcon();
    });
  }
}

function initAnimations() {
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('show');
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1 });

  document.querySelectorAll('.animate').forEach(el => observer.observe(el));
}

function initCarousel() {
  const images = Array.from(document.querySelectorAll('.image-item img'));
  if (!images.length) return;
  const imageSets = [
    ['images/carousel1.jpg', 'images/carousel2.jpg', 'images/carousel3.jpg'],
    ['images/carousel4.jpg', 'images/carousel5.jpg', 'images/carousel1.jpg']
  ];

  let index = 0;

  function showSet(i) {
    images.forEach((img, idx) => {
      img.src = imageSets[i][idx];
    });
    if (images[1]) {
      if (images[1].complete) {
        updateOverlayColor();
      } else {
        images[1].addEventListener('load', updateOverlayColor, { once: true });
      }
    }
  }

  showSet(index);

  setInterval(() => {
    images.forEach(img => img.classList.add('fade'));
    setTimeout(() => {
      index = (index + 1) % imageSets.length;
      showSet(index);
      images.forEach(img => img.classList.remove('fade'));
    }, 1000);
  }, 5000);
}

function updateOverlayColor() {
  document.documentElement.style.setProperty('--overlay-color', '#000000');
}

function initNavScroll() {
  const nav = document.querySelector('nav');
  if (!nav) return;
  const navHeight = nav.offsetHeight;
  let lastScroll = window.pageYOffset;
  window.addEventListener('scroll', () => {
    const current = window.pageYOffset;
    if (current > lastScroll) {
      nav.style.top = `-${navHeight}px`;
    } else {
      nav.style.top = '0';
    }
    lastScroll = current;
  });
}

const productData = [];

function renderProducts(filter = {}) {
  const grid = document.getElementById('product-grid');
  if (!grid) return;
  grid.innerHTML = '';
  const lang = document.documentElement.lang || 'en';
  const items = productData.filter(p => {
    if (filter.category && p.category !== filter.category) return false;
    if (filter.type && p.type !== filter.type) return false;
    return true;
  });
  if (!items.length) {
    const msg = document.createElement('p');
    msg.setAttribute('data-i18n', 'no_products');
    msg.textContent = translations[lang].no_products;
    grid.appendChild(msg);
    return;
  }
  items.forEach(p => {
    const div = document.createElement('div');
    div.className = 'product animate';
    div.innerHTML = `
      <img src="${p.image}" alt="" class="product-image" loading="lazy">
      <h2 data-i18n="${p.nameKey}">${translations[lang][p.nameKey]}</h2>
      <p data-i18n="${p.descKey}">${translations[lang][p.descKey]}</p>
      <p class="price" data-i18n="${p.priceKey}">${translations[lang][p.priceKey]}</p>
    `;
    grid.appendChild(div);
  });
  initAnimations();
}

function initProducts() {
  const grid = document.getElementById('product-grid');
  if (!grid) return;
  renderProducts();

  document.querySelectorAll('.category-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const category = btn.dataset.category;
      renderProducts({ category });
    });
  });

  document.querySelectorAll('.club-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const type = btn.dataset.type;
      renderProducts({ category: 'clubs', type });
    });
  });

  const viewSelect = document.getElementById('view-select');
  if (viewSelect) {
    viewSelect.addEventListener('change', e => {
      grid.classList.remove('grid-4', 'grid-5');
      grid.classList.add(`grid-${e.target.value}`);
    });
  }
}

document.addEventListener('DOMContentLoaded', () => {
  initLanguage();
  initTheme();
  initAnimations();
  initCarousel();
  initNavScroll();
  initProducts();
});
