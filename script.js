const translations = {
  en: {
    nav_home: 'Home',
    nav_products: 'Products',
    nav_contact: 'Contact',
    theme_toggle: 'Toggle Theme',
    language_label: 'Language',
    home_title: 'KENTACK Luxury Golf Experience',
    home_desc: 'Discover high-end golf gear for champions.',
      hero_cta: 'Shop Now',
      explore_collection: 'Explore the Collection',
      crafted_limited_timeless: 'Crafted. Limited. Timeless.',
      find_out_more: 'Find out more',
      story_title: 'Message from Ken Karahawa',
    story_message: `The name Golf Honma has long symbolized top-class Japanese craftsmanship, admired by golfers worldwide. Our KENTACK brand carries forward this proud tradition and superior techniques. Founded in 2007 by Yukihiro Honma, co-founder of Honma Golf, KENTACK was created to preserve the spirit and identity of the original Honma legacy after the brand became foreign-owned.\n\nYukihiro Honma, a master craftsman, once produced the finest clubs under the name HIRO HONMA, blending performance and beauty with over 50 years of expertise. With KENTACK, he revived that genuine tradition. Though he has since stepped back, his techniques and philosophy remain at the heart of our work.\n\nToday, KENTACK continues to craft elegant, precise, and high-performing clubs through meticulous Japanese artistry. We are committed to honoring our heritage while advancing technology, delivering top-quality clubs that add value for discerning golfers worldwide.`,
    distributor_title: 'KENTACK',
    distributor_line: 'The official distributor of KENTACK in Vietnam.',
    products_title: 'Our Products',
    back_to_products: 'Back to Products',
    category_intro: 'Browse the selected club type below.',
    hero_alt_drivers: 'Kentack driver hero',
    hero_alt_irons: 'Kentack irons hero',
    hero_alt_putters: 'Kentack putter hero',
    hero_alt_rescue: 'Kentack rescue hero',
    category_clubs: 'Clubs',
    category_bags: 'Bags',
    category_balls: 'Balls',
    category_tees: 'Tees',
    category_accessories: 'Accessories',
      club_drivers: 'Drivers',
      club_woods: 'Woods',
    club_irons: 'Irons',
    club_hybrids: 'Hybrids',
    club_wedges: 'Wedges',
    club_putters: 'Putters',
    club_rescue: 'Rescue',

    club_accessories: 'Accessories',
    hero_alt_accessories: 'Kentack accessories hero',
    prod_card_accessories_blurb: 'Tour caps, premium grips, Boston bags, and caddy bags to round out your setup.',
    view_4x4: '4 x 4',
    view_5x5: '5 x 5',
    no_products: 'No products available.',
    contact_title: 'Contact Us',
    contact_phone: 'Phone: 0899033692',
    contact_location_title: 'Location',
    contact_location: 'Phố Tân Mỹ, Phương Quan, Nam Từ Liêm, Hà Nội, Vietnam',
    product_kh888_name: 'KH888',
    product_kh888_desc: 'High-performance driver.',
    product_kh888_price: 'Starting from $1,110',
    product_kh888_details: `The KH888 builds on the iconic golfing technology developed by legendary Japanese golf master Honma Hiro. During his time as Vice President of Honma Golf, Hiro specialized in developing clubs that were able to increase flight distance with ease for both professionals and novices alike. This beautiful red lacquer finished driver has all of the Honma Hiro trademarks of elite performance and sophisticated design. The head and shaft have been painted by a Japanese traditional technique known as Maki-e. This artistic method involves craftsmen carefully applying multiple layers of lacquer. The product is then finished by hand with a sprinkle of 24k gold leaf. The result is a stunningly opulent club with incredibly high performance.`,
    product_kh888_specs: `
<table class="spec-table">
  <tr><th colspan="2">KH888 DRIVER</th></tr>
  <tr><td>HEAD material / Manufacturing process</td><td>6-4 TITANIUM / Forged</td></tr>
  <tr><td>FACE material</td><td>2041CUP Face</td></tr>
  <tr><td>LOFT(deg)</td><td>10.5 / 9.5</td></tr>
  <tr><td>FA(Face angle)</td><td>1.5</td></tr>
  <tr><td>Lie angle(deg)</td><td>60</td></tr>
  <tr><td>HEAD volume(cc)</td><td>500</td></tr>
  <tr><td>Distance to center of gravity(mm)</td><td>42</td></tr>
  <tr><td>Depth to center of gravity(mm)</td><td>39</td></tr>
  <tr><td>Degree of gravity</td><td>24</td></tr>
  <tr><td>High of gravity(mm)</td><td>35.2</td></tr>
  <tr><td>Head of gravity(g)</td><td>198g</td></tr>
  <tr><td>CT(Characteristic time)</td><td>290</td></tr>
</table>
`,
    product_kh888_putter_name: 'KH888',
    product_kh888_putter_desc: 'Limited-edition Japanese-crafted precision putter.',
    product_kh888_putter_price: 'From $1,080.00',
    product_kh888_putter_details: `The Kentack KH888 is more than a putter—it is Japanese craftsmanship at its finest. Forged from premium SUS303 stainless steel, it delivers exceptional balance, stability, and feel.
Its refined metallic finish and deep-milled face ensure consistent roll and precision, while thse steel shaft provides durability and smooth energy transfer.
Each emblem and engraving reflects authentic artistry, proudly marked “Made in Japan.” With only 150 numbered pieces worldwide, the KH888 is both a performance instrument and a collector’s treasure—crafted for golfers who demand perfection and distinction.`,
      product_kh888_putter_specs: `
<table class="spec-table">
  <tr><th colspan="2">KH888 PUTTER</th></tr>
  <tr><td>Head Material</td><td>Premium SUS303 Stainless Steel</td></tr>
  <tr><td>Manufacturing</td><td>Precision Japanese Craftsmanship</td></tr>
  <tr><td>Finish</td><td>Luxury metallic precision-milled surface</td></tr>
  <tr><td>Shaft</td><td>High-quality steel</td></tr>
  <tr><td>Length</td><td>Custom-fitted for balance and control</td></tr>
  <tr><td>Production</td><td>Limited to 150 pieces (individually numbered)</td></tr>
  <tr><td>Origin</td><td>100% Made in Japan</td></tr>
</table>
`,
    product_kh555_name: 'KH555',
    product_kh555_desc: 'Forged precision driver.',
    product_kh555_price: 'Starting from $1,400',
    product_kh555_details: 'The Kentack KH555 Driver fuses forged titanium power with refined precision, delivering effortless distance and unwavering stability. Crafted with a premium carbon shaft and tour-inspired balance, it embodies the harmony of performance and elegance for the discerning golfer.',
      product_kh555_specs: `
<table class="spec-table">
  <tr><th colspan="2">KH-555 DRIVER</th></tr>
  <tr><td>HEAD material / Manufacturing process</td><td>6-4 TITANIUM / Forged</td></tr>
  <tr><td>FACE material</td><td>2041CupFace</td></tr>
  <tr><td>LOFT(deg)</td><td>10.5 / 9.5</td></tr>
  <tr><td>FA(Face angle)</td><td>1.0</td></tr>
  <tr><td>Lie angle(deg)</td><td>59</td></tr>
  <tr><td>HEAD volume(cc)</td><td>488</td></tr>
  <tr><td>Distance to center of gravity(mm)</td><td>40</td></tr>
  <tr><td>Depth to center of gravity(mm)</td><td>36.5</td></tr>
  <tr><td>Degree of gravity</td><td>19.5</td></tr>
  <tr><td>High of gravity(mm)</td><td>36</td></tr>
  <tr><td>Balance</td><td>D3</td></tr>
  <tr><td>Club weight</td><td>306g</td></tr>
  <tr><td>Length(inch)</td><td>46.0</td></tr>
  <tr><td>CT(Characteristic time)</td><td>290~302</td></tr>
</table>
`,
    product_kh460_name: 'KH460',
    product_kh460_desc: 'Refined power with exceptional feel.',
    product_kh460_price: 'Price upon request.',
    product_kh460_details: `Crafted in Japan for golfers who value precision and elegance, the KENTACK JAPAN DRIVER KH460 delivers refined power with exceptional feel. Its forged 6-4 titanium head is paired with a DAT55 titanium face, producing a crisp, responsive impact and consistent ball speed.\n\nThe classic 460cc profile and neutral face angle offer confident address and effortless shot shaping, while a carefully engineered center of gravity promotes a balanced, penetrating launch. Every detail of the KH460 reflects understated performance and Japanese craftsmanship—designed for players who demand quality without compromise.`,
    product_kh460_specs: `
<table class="spec-table">
  <tr><th colspan="2">KENTACK JAPAN DRIVER KH460</th></tr>
  <tr><td>HEAD material / Manufacturing process</td><td>6-4 TITANIUM / Forged</td></tr>
  <tr><td>FACE material</td><td>DAT55</td></tr>
  <tr><td>LOFT(deg)</td><td>9.5 / 10.5</td></tr>
  <tr><td>FA (Face angle)</td><td>+-0</td></tr>
  <tr><td>Lie angle(deg)</td><td>58</td></tr>
  <tr><td>HEAD weight(g)</td><td>199</td></tr>
  <tr><td>Distance to center of gravity(mm)</td><td>42.4</td></tr>
  <tr><td>Depth to center of gravity(mm)</td><td>34.2</td></tr>
  <tr><td>Degree of gravity</td><td>13</td></tr>
  <tr><td>CT (Characteristic time)</td><td>-</td></tr>
</table>
`,
    product_white_oyster_name: 'White Pearl / 24K Gold',
    product_white_oyster_desc: 'Precision. Elegance. Unrivaled Performance.',
    product_white_oyster_price: 'Price upon request.',
    product_white_oyster_details: `Elevate your game with the White Pearl / 24K Gold Hollow-Forged Irons — a stunning blend of art and performance that redefines what it means to swing in style. From their exquisite gold accents and luminous White Pearl finish to the silky NS950 Gold shafts, every detail communicates refinement. These irons deliver impressive feel, forgiving launch, and an unmistakable presence at address: power with poise, forged for those who demand the best in both aesthetics and functionality.`,
    product_white_oyster_specs: `
<table class="spec-table">
  <tr><th colspan="2">WHITE PEARL / 24K GOLD HOLLOW FORGED IRONS</th></tr>
  <tr><td>HEAD material / Manufacturing process</td><td>Hollow Forging(#5–PW) / Forged Face Milling(AW、SW)</td></tr>
  <tr><td>NO</td><td>5,6,7,8,9,P</td></tr>
  <tr><td>LOFT(deg)</td><td>24/27/30/34/38/43</td></tr>
  <tr><td>BOUNCE</td><td>0/1/2/3/4/5</td></tr>
  <tr><td>Lie angle(deg)</td><td>61.5/61.75/62/62.25/62.5/63</td></tr>
  <tr><td>Face Progression</td><td>1/1/1/1.5/1.8/2</td></tr>
  <tr><td>Head Weight(g)</td><td>257/264/271/278/285/293</td></tr>
  <tr><td>Distance to center of gravity(mm)</td><td>39.2</td></tr>
  <tr><td>Depth to center of gravity(mm)</td><td>4.8</td></tr>
  <tr><td>High of gravity(mm)</td><td>17</td></tr>
  <tr><th colspan="2">NS950 Shaft(GOLD)</th></tr>
  <tr><td>Length</td><td>35</td></tr>
  <tr><td>Flex</td><td>R</td></tr>
  <tr><td>Shaft Weight(g)</td><td>94.5</td></tr>
  <tr><td>Torque(degree)</td><td>2</td></tr>
  <tr><td>Butt diameter(mm)</td><td>15.5</td></tr>
  <tr><td>Tip diameter(mm)</td><td>9.02</td></tr>
  <tr><td>Kick point</td><td>Low Mid</td></tr>
</table>
`,
    product_rescue_name: 'Kentack Platinum',
    product_rescue_desc: 'Confident launch from any lie.',
    product_rescue_price: 'Price upon request.',
    product_rescue_details: 'Shallow-faced construction with a neutral lie angle and responsive steel face for easy launch and workable trajectories from the fairway or rough.',
    prod_card_driver_alt: 'Kentack driver illustration',
    prod_card_driver_blurb: 'High-launch titanium heads finished with layered lacquer and gold leaf for effortless distance.',
    prod_card_irons_alt: 'Kentack irons illustration',
    prod_card_irons_tagline: 'Forged Precision',
    prod_card_irons_blurb: 'Hollow-forged faces with mirror-polished fluting and 24K gold accents for sculpted trajectories.',
    prod_card_putter_alt: 'Kentack putter illustration',
    prod_card_putter_blurb: 'Deep-milled SUS303 blocks balanced for a satin roll, complete with hand-engraved emblems.',
    prod_card_rescue_alt: 'Kentack rescue club illustration',
    prod_card_rescue_tagline: 'High-launch, turf-cutting versatility.',
    prod_card_rescue_blurb: 'Shallow-faced profile with a neutral lie and responsive face for confident shots from any lie.',
    products_note_text: 'Looking for a bespoke shaft pairing or a private fitting? Reach out through the <a href="contact.html">contact page</a> and we will tailor the build to your swing.',
  },
  vi: {
    nav_home: 'Trang chủ',
    nav_products: 'Sản phẩm',
    nav_contact: 'Liên hệ',
    theme_toggle: 'Đổi chủ đề',
    language_label: 'Ngôn ngữ',
    home_title: 'KENTACK - Trải nghiệm Golf Sang Trọng',
    home_desc: 'Khám phá thiết bị golf cao cấp dành cho nhà vô địch.',
      hero_cta: 'Mua Ngay',
      explore_collection: 'Khám phá Bộ Sưu Tập',
      crafted_limited_timeless: 'Tinh xảo. Giới hạn. Vượt thời gian.',
      find_out_more: 'Tìm hiểu thêm',
      story_title: 'Thông điệp từ Ken Karahawa',
    story_message: `Tên Golf Honma từ lâu đã tượng trưng cho tay nghề Nhật Bản đẳng cấp, được các golfer trên toàn thế giới ngưỡng mộ. Thương hiệu KENTACK của chúng tôi tiếp nối truyền thống đáng tự hào và kỹ thuật ưu việt đó. Được thành lập năm 2007 bởi ông Yukihiro Honma, đồng sáng lập Honma Golf, KENTACK ra đời để gìn giữ tinh thần và bản sắc di sản Honma nguyên bản sau khi thương hiệu trở thành sở hữu nước ngoài.\n\nYukihiro Honma, một bậc thầy chế tác, từng tạo ra những cây gậy hoàn hảo nhất dưới tên HIRO HONMA, kết hợp hiệu suất và vẻ đẹp với hơn 50 năm kinh nghiệm. Với KENTACK, ông đã hồi sinh truyền thống chân chính đó. Dù nay ông đã lui về, kỹ thuật và triết lý của ông vẫn là cốt lõi trong công việc của chúng tôi.\n\nNgày nay, KENTACK tiếp tục chế tác những cây gậy thanh lịch, chính xác và hiệu suất cao bằng nghệ thuật Nhật Bản tỉ mỉ. Chúng tôi cam kết tôn vinh di sản đồng thời phát triển công nghệ, mang đến những cây gậy chất lượng hàng đầu tạo giá trị cho các golfer sành điệu trên toàn thế giới.`,
    distributor_title: 'KENTACK',
    distributor_line: 'Nhà phân phối chính thức của KENTACK tại Việt Nam.',
    products_title: 'Sản phẩm của chúng tôi',
    back_to_products: 'Quay lại Sản phẩm',
    category_intro: 'Xem loại gậy đã chọn bên dưới.',
    hero_alt_drivers: 'Ảnh hero gậy driver Kentack',
    hero_alt_irons: 'Ảnh hero gậy sắt Kentack',
    hero_alt_putters: 'Ảnh hero gậy putter Kentack',
    hero_alt_rescue: 'Ảnh hero gậy rescue Kentack',
    category_clubs: 'Gậy',
    category_bags: 'Túi',
    category_balls: 'Bóng',
    category_tees: 'Tee',
    category_accessories: 'Phụ kiện',
    club_drivers: 'Driver',
    club_woods: 'Gỗ',
    club_irons: 'Iron',
    club_hybrids: 'Hybrid',
    club_wedges: 'Wedge',
    club_putters: 'Putter',
    club_rescue: 'Rescue',

    club_accessories: 'Phụ kiện',
    hero_alt_accessories: 'Anh hero phu kien Kentack',
    prod_card_accessories_blurb: 'Mũ tour, grip cao cấp, túi Boston và túi caddie hoàn thiện bộ gậy của bạn.',
    view_4x4: '4 x 4',
    view_5x5: '5 x 5',
    no_products: 'Không có sản phẩm.',
    contact_title: 'Liên hệ với chúng tôi',
    contact_phone: 'Điện thoại: 0899033692',
    contact_location_title: 'Địa chỉ',
    contact_location: 'Phố Tân Mỹ, Phương Quan, Nam Từ Liêm, Hà Nội, Vietnam',
    product_kh888_name: 'KH888',
    product_kh888_desc: 'Gậy driver hiệu suất cao.',
    product_kh888_price: 'Giá khởi điểm từ <em>29.000.000₫</em>',
        product_kh888_details: `KH888 kế thừa công nghệ golf mang tính biểu tượng do huyền thoại Nhật Bản Honma Hiro phát triển. Trong thời gian giữ chức Phó Chủ tịch Honma Golf, Hiro chuyên nghiên cứu những cây gậy có thể dễ dàng tăng khoảng cách bay cho cả golfer chuyên nghiệp lẫn người mới chơi. Chiếc driver hoàn thiện bằng sơn mài đỏ tuyệt đẹp này mang đầy đủ dấu ấn Honma Hiro về hiệu suất đỉnh cao và thiết kế tinh tế. Phần đầu và thân gậy được sơn bằng kỹ thuật truyền thống của Nhật Bản gọi là Maki-e. Phương pháp nghệ thuật này đòi hỏi nghệ nhân tỉ mỉ phủ nhiều lớp sơn mài. Sản phẩm sau đó được hoàn thiện thủ công với một lớp rắc lá vàng 24k. Kết quả là một cây gậy xa hoa lộng lẫy với hiệu suất cực kỳ cao.`,
    product_kh555_name: 'KH555',
    product_kh555_desc: 'Gậy driver rèn chính xác.',
    product_kh555_price: 'Giá khởi điểm từ <em>36.000.000₫</em>',
    product_kh555_details: 'Driver Kentack KH555 với thiết kế mặt gậy bằng chất liệu Titanium với độ chính xác cao, +20 Yard so với dòng gậy thông thường. Với tiếp xúc đa điểm mang lại sự ổn định đồng thời  luôn đẩy bóng bề tiêu cự tốt nhất có thể. Cán gậy được làm bằng sợi Nano (mảnh và nhỏ như hạt vải) giúp xa và mang lại sự cân bằng tốt nhất, KH555 là sự thể hiện sự hòa quyện giữa hiệu suất và vẻ thanh lịch dành cho golfer yêu thích sự bứt phá, ổn định.',
    product_kh460_name: 'KH460',
    product_kh460_desc: 'Sức mạnh tinh tế, cảm giác tuyệt vời.',
    product_kh460_price: 'Giá liên hệ.',
    product_kh460_details: `Được chế tác tại Nhật cho người yêu độ chính xác và sự thanh lịch, KH460 mang lại sức mạnh cân bằng cùng cảm giác đánh chắc gọn. Đầu titan 6-4 rèn kết hợp mặt DAT55 tạo âm thanh sắc nét và tốc độ bóng ổn định.

Kiểu dáng 460cc cổ điển, mặt trung tính giúp tự tin vào bóng và điều khiển quỹ đạo dễ dàng; trọng tâm được tính toán cho đường bay xuyên gió nhưng vẫn êm. Mỗi chi tiết của KH460 đều thể hiện sự tinh xảo đúng chất Nhật cho người chơi yêu chất lượng không thỏa hiệp.`,
    product_kh460_specs: `
<table class="spec-table">
  <tr><th colspan="2">DRIVER KH460</th></tr>
  <tr><td>Vật liệu đầu / Quy trình</td><td>6-4 TITANIUM / Forged</td></tr>
  <tr><td>Vật liệu mặt</td><td>DAT55</td></tr>
  <tr><td>Loft (độ)</td><td>9.5 / 10.5</td></tr>
  <tr><td>Góc face (FA)</td><td>+-0</td></tr>
  <tr><td>Lie (độ)</td><td>58</td></tr>
  <tr><td>Trọng lượng đầu (g)</td><td>199</td></tr>
  <tr><td>Khoảng cách CG (mm)</td><td>42.4</td></tr>
  <tr><td>Độ sâu CG (mm)</td><td>34.2</td></tr>
  <tr><td>Độ cao CG (mm)</td><td>13</td></tr>
  <tr><td>CT</td><td>-</td></tr>
</table>
`,
    product_kh888_putter_name: 'KH888',
    product_kh888_putter_desc: 'Putter chuẩn xác phiên bản giới hạn chế tác tại Nhật Bản.',
    product_kh888_putter_price: 'Giá từ <em>29.000.000₫</em>',
        product_kh888_putter_details: `Kentack KH888 không chỉ là một cây putter — đó là tinh hoa của nghề thủ công Nhật Bản. Được rèn từ thép không gỉ SUS303 cao cấp, gậy mang đến sự cân bằng, ổn định và cảm giác vượt trội.
Lớp hoàn thiện kim loại tinh xảo cùng mặt gậy phay sâu giúp bóng lăn ổn định và chính xác, trong khi cán thép đảm bảo độ bền và truyền năng lượng mượt mà.
Mỗi huy hiệu và đường khắc đều toát lên nghệ thuật chính thống, tự hào mang dấu “Made in Japan”.
Giới hạn chỉ 150 cây được đánh số trên toàn thế giới, KH888 vừa là công cụ thi đấu hiệu suất cao vừa là báu vật sưu tầm — dành cho golfer yêu cầu sự hoàn hảo và khác biệt.`,
    product_kh888_putter_specs: `
<table class="spec-table">
  <tr><th colspan="2">PUTTER KH888</th></tr>
  <tr><td>Chất liệu đầu gậy</td><td>Thép không gỉ SUS303 cao cấp</td></tr>
  <tr><td>Quy trình chế tác</td><td>Kỹ nghệ Nhật Bản chính xác</td></tr>
  <tr><td>Hoàn thiện</td><td>Bề mặt kim loại mài chính xác cao cấp</td></tr>
  <tr><td>Shaft</td><td>Thép chất lượng cao</td></tr>
  <tr><td>Chiều dài</td><td>Tùy chỉnh để cân bằng và kiểm soát</td></tr>
  <tr><td>Sản xuất</td><td>Giới hạn 150 cây (đánh số riêng)</td></tr>
  <tr><td>Xuất xứ</td><td>100% Made in Japan</td></tr>
</table>
`,
    product_white_oyster_name: 'White Pearl / 24K Gold',
    product_white_oyster_desc: 'Chính xác. Thanh lịch. Hiệu suất vô song.',
    product_white_oyster_price: 'Giá liên hệ.',
    product_white_oyster_details: `Bộ gậy sắt Hollow Forged White Pearl / 24K Gold này là sự kết hợp tuyệt vời giữa phong cách và hiệu suất, khiến mỗi cú swing đều toát lên vẻ sang trọng. Các chi tiết mạ vàng tinh xảo và lớp hoàn thiện White Pearl lấp lánh thu hút ánh nhìn, cùng với shaft NS950 Gold mềm mại mang lại cảm giác cao cấp. Cảm giác khi đánh là sự mượt mà, tha thứ cho sai sót, và sự hiện diện đẳng cấp ngay từ lúc đứng chuẩn bị (address). Đầy uy lực nhưng vẫn giữ nét tao nhã — đây là bộ iron dành cho những ai coi golf là phong cách, không chỉ là trò chơi.`,
    product_rescue_name: 'Kentack Platinum',
    product_rescue_desc: 'Tự tin phóng bóng từ mọi địa hình.',
    product_rescue_price: 'Giá liên hệ.',
    product_rescue_details: 'Thiết kế mặt nông, lie trung tính cùng mặt gậy thép nhạy giúp bóng vọt lên dễ dàng và điều bóng linh hoạt dù ở fairway hay rough.',
    prod_card_driver_alt: 'Hình minh họa gậy driver Kentack',
    prod_card_driver_blurb: 'Đầu titanium phóng cao, sơn nhiều lớp và dát vàng 24K cho khoảng cách nhẹ nhàng.',
    prod_card_irons_alt: 'Hình minh họa bộ gậy sắt Kentack',
    prod_card_irons_tagline: 'Rèn chuẩn xác',
    prod_card_irons_blurb: 'Mặt rỗng rèn, soi bóng gân và điểm xuyết vàng 24K cho quï đạo điêu khắc.',
    prod_card_putter_alt: 'Hình minh họa gậy putter Kentack',
    prod_card_putter_blurb: 'Khối SUS303 phay sâu, cân bằng cho cú lăn mượt, kèm huy hiệu khắc tay.',
    prod_card_rescue_alt: 'Hình minh họa gậy rescue Kentack',
    prod_card_rescue_tagline: 'Đa dụng, dễ bứt khỏi cỏ.',
    prod_card_rescue_blurb: 'Mặt nông, lie trung tính và mặt đáp ứng giúp tự tin đánh từ mọi vị trí.',
    products_note_text: 'Cần ghép shaft riêng hoặc fitting kín? Liên hệ qua <a href="contact.html">trang liên hệ</a> để chúng tôi lắp phù hợp với swing của bạn.',
  },
  ja: {
    nav_home: 'ホーム',
    nav_products: '製品',
    nav_contact: 'お問い合わせ',
    theme_toggle: 'テーマ切替',
    language_label: '言語',
    home_title: 'KENTACK ラグジュアリーなゴルフ体験',
    home_desc: 'チャンピオンのための高級ゴルフ用品を見つけましょう。',
      hero_cta: '今すぐ購入',
      explore_collection: 'コレクションを探る',
      crafted_limited_timeless: '匠の技。限定。時を超えて。',
      find_out_more: '詳しく見る',
      story_title: '唐川ケンからのメッセージ',
    story_message: `「ゴルフ本間」という名前は、長年にわたり日本最高峰の職人技の象徴として、世界中のゴルファーに愛されてきました。私たちのKENTACKブランドは、この誇り高い伝統と優れた技術を受け継いでいます。KENTACKは本間ゴルフの共同創業者、本間幸宏によって2007年に設立され、ブランドが外国資本となった後も本来の本間の精神とアイデンティティを守るために生まれました。\n\n名匠である本間幸宏は、かつてHIRO HONMAの名で最高級のクラブを作り上げ、50年以上の経験で性能と美を融合させました。KENTACKによって彼はその真の伝統を復活させました。現在は第一線を退いていますが、彼の技術と理念は今も私たちの中心にあります。\n\n今日のKENTACKは、緻密な日本の職人技でエレガントで精密、そして高性能なクラブを作り続けています。私たちは遺産を尊重しつつ技術を進化させ、世界中の目の肥えたゴルファーに価値ある最高品質のクラブを提供し続けます。`,
    distributor_title: 'KENTACK',
    distributor_line: 'KENTACKのベトナム正規代理店です。',
    products_title: '製品一覧',
    back_to_products: '製品一覧に戻る',
    category_intro: '選択したクラブタイプを下からご覧ください。',
    hero_alt_drivers: 'ケンタック ドライバーのヒーロー画像',
    hero_alt_irons: 'ケンタック アイアンのヒーロー画像',
    hero_alt_putters: 'ケンタック パターのヒーロー画像',
    hero_alt_rescue: 'ケンタック レスキューのヒーロー画像',
    category_clubs: 'クラブ',
    category_bags: 'バッグ',
    category_balls: 'ボール',
    category_tees: 'ティー',
    category_accessories: 'アクセサリー',
    club_drivers: 'ドライバー',
    club_woods: 'ウッド',
    club_irons: 'アイアン',
    club_hybrids: 'ハイブリッド',
    club_wedges: 'ウェッジ',
    club_putters: 'パター',
    club_rescue: 'レスキュー',
    club_accessories: 'アクセサリー',
    hero_alt_accessories: 'ケンタック アクセサリー ヒーロー',
    prod_card_accessories_blurb: 'ツアーキャップ、プレミアムグリップ、ボストン＆キャディバッグで装備を仕上げます。',
    view_4x4: '4 x 4',
    view_5x5: '5 x 5',
    no_products: '商品がありません。',
    contact_title: 'お問い合わせ',
    contact_phone: '電話: 0899033692',
    contact_location_title: '住所',
    contact_location: 'Phố Tân Mỹ, Phương Quan, Nam Từ Liêm, Hà Nội, Vietnam',
    product_kh460_name: 'KH460',
    product_kh460_desc: 'Refined power with exceptional feel.',
    product_kh460_price: 'Price upon request.',
    product_kh460_details: `Crafted in Japan for golfers who value precision and elegance, the KENTACK JAPAN DRIVER KH460 delivers refined power with exceptional feel. Its forged 6-4 titanium head is paired with a DAT55 titanium face, producing a crisp, responsive impact and consistent ball speed.

The classic 460cc profile and neutral face angle offer confident address and effortless shot shaping, while a carefully engineered center of gravity promotes a balanced, penetrating launch. Every detail of the KH460 reflects understated performance and Japanese craftsmanship--designed for players who demand quality without compromise.`,
    product_kh460_specs: `
<table class="spec-table">
  <tr><th colspan="2">KENTACK JAPAN DRIVER KH460</th></tr>
  <tr><td>HEAD material / Manufacturing process</td><td>6-4 TITANIUM / Forged</td></tr>
  <tr><td>FACE material</td><td>DAT55</td></tr>
  <tr><td>LOFT(deg)</td><td>9.5 / 10.5</td></tr>
  <tr><td>FA (Face angle)</td><td>+-0</td></tr>
  <tr><td>Lie angle(deg)</td><td>58</td></tr>
  <tr><td>HEAD weight(g)</td><td>199</td></tr>
  <tr><td>Distance to center of gravity(mm)</td><td>42.4</td></tr>
  <tr><td>Depth to center of gravity(mm)</td><td>34.2</td></tr>
  <tr><td>Degree of gravity</td><td>13</td></tr>
  <tr><td>CT (Characteristic time)</td><td>-</td></tr>
</table>
`,
    product_kh888_name: 'KH888',
    product_kh888_desc: '高性能ドライバー。',
    product_kh888_price: '163,500円から',
        product_kh888_details: `KH888は、日本の伝説的なゴルフマスター本間弘が開発した象徴的なゴルフ技術を基に作られています。本間ゴルフの副社長を務めていた時期、弘氏はプロから初心者まで誰もが簡単に飛距離を伸ばせるクラブの開発に専念しました。この美しい赤い漆仕上げのドライバーには、本間弘ならではの卓越した性能と洗練されたデザインがすべて備わっています。ヘッドとシャフトには「蒔絵」と呼ばれる日本の伝統技法が施されています。この芸術的な手法では、職人が何層もの漆を丁寧に重ねていきます。そして製品は24Kの金箔を散らして手作業で仕上げられます。その結果、驚くほど高い性能を持つ豪華絢爛なクラブが完成します。`,
    product_kh555_name: 'KH555',
    product_kh555_desc: '精密鍛造ドライバー。',
    product_kh555_price: '198,000円から',
    product_kh555_details: 'ケンタック KH555 ドライバーは鍛造チタンのパワーと洗練された精度を融合し、楽に飛距離を伸ばし揺るぎない安定性をもたらします。プレミアムカーボンシャフトとツアーインスパイアのバランスで仕上げられ、性能とエレガンスの調和を求める目の肥えたゴルファーのための一本です。',
    product_kh888_putter_name: 'KH888',
    product_kh888_putter_desc: '日本で鍛えられた限定プレシジョンパター。',
    product_kh888_putter_price: '159,059円から',
        product_kh888_putter_details: `Kentack KH888は単なるパターではなく、日本のクラフトマンシップの粋を集めた一本です。高級SUS303ステンレススチールから鍛造され、卓越したバランス、安定性、打感をもたらします。
精緻なメタリック仕上げと深いミーリングフェースが安定した転がりと高い再現性を生み出し、スチールシャフトは耐久性と滑らかなエネルギー伝達を提供します。
あらゆるエンブレムと刻印が本物の職人技を物語り、「Made in Japan」の刻印が誇らしく輝きます。
世界限定150本のシリアルナンバー入りで、KH888は高性能なギアであると同時にコレクターズアイテムでもあり、完璧と個性を求めるゴルファーのために仕立てられています。`,
    product_kh888_putter_specs: `
<table class="spec-table">
  <tr><th colspan="2">KH888パター</th></tr>
  <tr><td>ヘッド素材</td><td>高級SUS303ステンレススチール</td></tr>
  <tr><td>製造</td><td>日本の精密クラフトマンシップ</td></tr>
  <tr><td>仕上げ</td><td>ラグジュアリーなメタリック精密ミルド仕上げ</td></tr>
  <tr><td>シャフト</td><td>高品質スチール</td></tr>
  <tr><td>長さ</td><td>バランスとコントロールのためのカスタムフィット</td></tr>
  <tr><td>生産本数</td><td>限定150本（シリアルナンバー付与）</td></tr>
  <tr><td>原産国</td><td>日本製</td></tr>
</table>
`,
    product_white_oyster_name: 'White Pearl / 24K Gold',
    product_white_oyster_desc: '精度。優雅さ。比類なきパフォーマンス。',
    product_white_oyster_price: '価格はお問い合わせください。',
    product_white_oyster_details: `ホワイトパールと24Kゴールドで仕上げられたホローフォージド・アイアンセットは、スタイルと性能を見事に融合させ、スイングひとつで品格を物語ります。洗練されたゴールドのアクセントと輝くホワイトパールのフィニッシュが目を引き、滑らかなNS950ゴールドシャフトが手にする喜びを与える。打感は上質で寛容さもあり、あなたの姿勢（アドレス時）で威厳を放つ一振り。力強さを備えながらも、優雅さを失わないアイアンです。`,
    product_rescue_name: 'Kentack Platinum',
    product_rescue_desc: 'どんなライからも高弾道で攻める。',
    product_rescue_price: '価格はお問い合わせください。',
    product_rescue_details: '浅めのフェースとニュートラルライ設計、反応の良いスチールフェースで、フェアウェイでもラフでも安定した打ち出しと操作性を実現します。',
    prod_card_driver_alt: 'ケンタック ドライバーのイラスト',
    prod_card_driver_blurb: '高打ち出しのチタンヘッドに多層ラッカーと金箔仕上げで、やさしく飛ばせます。',
    prod_card_irons_alt: 'ケンタック アイアンのイラスト',
    prod_card_irons_tagline: '鍛造プレシジョン',
    prod_card_irons_blurb: '中空フェースと24Kゴールドのアクセントで軌道を自在に描きます。',
    prod_card_putter_alt: 'ケンタック パターのイラスト',
    prod_card_putter_blurb: 'SUS303ブロックを深いミーリングで仕上げ、手彫りエンブレムを添えています。',
    prod_card_rescue_alt: 'ケンタック レスキューのイラスト',
    prod_card_rescue_tagline: '高弾道で芝を切る多用途クラブ。',
    prod_card_rescue_blurb: '浅めのフェースとニュートラルなライで、どこからでも安心のショット。',
    products_note_text: 'シャフトの組み合わせやプライベートフィッティングは<a href="contact.html">お問い合わせページ</a>からご相談ください。'
  }
};

const htmlI18nKeys = ['product_kh888_price', 'product_kh555_price', 'product_white_oyster_price', 'product_kh888_putter_price', 'products_note_text'];
const storyHighlightKeys = ['story_message'];

function highlightKentack(text = '') {
  return text.replace(/KENTACK/g, '<span class="kentack-highlight">KENTACK</span>');
}

let carouselInterval;
let currentDevice;

function setLanguage(lang) {
  localStorage.setItem('lang', lang);
  document.documentElement.lang = lang;
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[lang][key]) {
      const value = translations[lang][key];
      if (storyHighlightKeys.includes(key)) {
        el.innerHTML = highlightKentack(value);
      } else if (htmlI18nKeys.includes(key)) {
        el.innerHTML = value;
      } else {
        el.textContent = value;
      }
    }
  });
  document.querySelectorAll('[data-i18n-alt]').forEach(el => {
    const key = el.getAttribute('data-i18n-alt');
    if (translations[lang][key]) {
      el.setAttribute('alt', translations[lang][key]);
    }
  });
  const params = new URLSearchParams(window.location.search);
  const filter = {};
  const category = params.get('category');
  const type = params.get('type');
  if (category) filter.category = category;
  if (type) filter.type = type;
  updateProductHeading(filter);
  toggleCategoryHero(type);
}

function initLanguage() {
  const saved = localStorage.getItem('lang') || 'en';
  const select = document.getElementById('language-select');
  const toggle = document.getElementById('language-toggle');
  if (select) {
    select.value = saved;
    select.addEventListener('change', e => {
      setLanguage(e.target.value);
      select.classList.add('hidden');
    });
  }
  if (toggle && select) {
    toggle.addEventListener('click', () => {
      select.classList.toggle('hidden');
    });
  }
  setLanguage(saved);
}

function initTheme() {
  let saved = localStorage.getItem('theme');
  if (!saved) {
    saved = 'dark';
    localStorage.setItem('theme', 'dark');
  }
  if (saved === 'dark') {
    document.body.classList.add('dark-theme');
  }
  const toggle = document.getElementById('theme-toggle');
  if (toggle) {
    const sunIcon = toggle.getAttribute('data-sun-icon') || 'sun.png';
    const moonIcon = toggle.getAttribute('data-moon-icon') || 'moon.png';
    const updateIcon = () => {
      const isDark = document.body.classList.contains('dark-theme');
      if (isDark) {
        toggle.innerHTML = `<img src="${sunIcon}" alt="Switch to light mode">`;
      } else {
        toggle.innerHTML = `<img src="${moonIcon}" alt="Switch to dark mode">`;
      }
    };
    updateIcon();
    toggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-theme');
      localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
      updateIcon();
    });
  }
}

function initAnimations() {
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('show');
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1 });

  document.querySelectorAll('.animate').forEach(el => observer.observe(el));
}

function initCarousel() {
  if (carouselInterval) {
    clearInterval(carouselInterval);
    carouselInterval = null;
  }
  const body = document.body;
  if (body.classList.contains('device-phone')) {
    const container = document.querySelector('.center-item');
    if (!container) return;
    container.querySelectorAll('img:not(:first-child)').forEach(img => img.remove());
    let currentImg = container.querySelector('img');
    if (!currentImg) return;
    const overlay = container.querySelector('.overlay');
    const mobileImages = [
      'images/carousel1.jpg',
      'images/carousel2.jpg',
      'images/carousel3.jpg',
      'images/carousel5.jpg'
    ];
    let index = 0;
    function showImage(i, instant = false) {
      if (instant) {
        currentImg.src = mobileImages[i];
        if (currentImg.complete) {
          updateOverlayColor();
        } else {
          currentImg.addEventListener('load', updateOverlayColor, { once: true });
        }
        return;
      }
      const prevImg = currentImg;
      const nextImg = document.createElement('img');
      nextImg.src = mobileImages[i];
      nextImg.classList.add('next');
      if (overlay) {
        container.insertBefore(nextImg, overlay);
      } else {
        container.appendChild(nextImg);
      }
      requestAnimationFrame(() => {
        prevImg.classList.add('slide-out-left');
        nextImg.classList.add('slide-in-right');
      });
      prevImg.addEventListener('transitionend', () => prevImg.remove(), { once: true });
      nextImg.addEventListener('transitionend', () => {
        nextImg.classList.remove('next', 'slide-in-right');
        currentImg = nextImg;
        updateOverlayColor();
      }, { once: true });
    }
    showImage(index, true);
    carouselInterval = setInterval(() => {
      index = (index + 1) % mobileImages.length;
      showImage(index);
    }, 5000);
    return;
  }
  const items = Array.from(document.querySelectorAll('.image-item'));
  if (!items.length) return;
  items.forEach(item => {
    const imgs = item.querySelectorAll('img');
    imgs.forEach((img, idx) => { if (idx > 0) img.remove(); });
  });
  const imageSets = [
    ['images/carousel1.jpg', 'images/carousel2.jpg', 'images/carousel3.jpg'],
    ['images/carousel4.jpg', 'images/carousel5.jpg', 'images/carousel1.jpg']
  ];
  let index = 0;
  function showSet(i, instant = false) {
    items.forEach((item, idx) => {
      const currentImg = item.querySelector('img');
      if (!currentImg) return;
      const overlay = item.querySelector('.overlay');
      if (instant) {
        currentImg.src = imageSets[i][idx];
        if (item === items[1]) {
          if (currentImg.complete) {
            updateOverlayColor();
          } else {
            currentImg.addEventListener('load', updateOverlayColor, { once: true });
          }
        }
        return;
      }
      const nextImg = document.createElement('img');
      nextImg.src = imageSets[i][idx];
      nextImg.classList.add('next');
      if (overlay) {
        item.insertBefore(nextImg, overlay);
      } else {
        item.appendChild(nextImg);
      }
      requestAnimationFrame(() => {
        currentImg.classList.add('slide-out-left');
        nextImg.classList.add('slide-in-right');
      });
      currentImg.addEventListener('transitionend', () => currentImg.remove(), { once: true });
      nextImg.addEventListener('transitionend', () => {
        nextImg.classList.remove('next', 'slide-in-right');
        if (item === items[1]) {
          updateOverlayColor();
        }
      }, { once: true });
    });
  }
  showSet(index, true);
  carouselInterval = setInterval(() => {
    index = (index + 1) % imageSets.length;
    showSet(index);
  }, 5000);
}

function updateOverlayColor() {
  const img = document.querySelector('.center-item img');
  if (!img) return;
  const canvas = document.createElement('canvas');
  const ctx = canvas.getContext('2d');
  canvas.width = img.naturalWidth;
  canvas.height = img.naturalHeight;
  ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
  const data = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
  let r = 0, g = 0, b = 0, count = 0;
  for (let i = 0; i < data.length; i += 400) {
    r += data[i];
    g += data[i + 1];
    b += data[i + 2];
    count++;
  }
  const avgR = r / count;
  const avgG = g / count;
  const avgB = b / count;
  const brightness = 0.299 * avgR + 0.587 * avgG + 0.114 * avgB;
  const color = brightness > 128 ? '#000000' : '#ffffff';
  document.documentElement.style.setProperty('--overlay-color', color);
}

function initNavScroll() {
  const nav = document.querySelector('nav');
  if (!nav || document.body.classList.contains('device-phone')) return;
  let lastScroll = window.pageYOffset;
  window.addEventListener('scroll', () => {
    const current = window.pageYOffset;
    if (current > lastScroll) {
      nav.classList.add('nav-hidden');
    } else {
      nav.classList.remove('nav-hidden');
    }
    lastScroll = current;
  });
}

function initIntroScroll() {
  const intro = document.getElementById('putter-intro');
  if (!intro) return;
  const navHeight = document.querySelector('nav')?.offsetHeight || 0;
  window.scrollTo(0, 0);
  function handleFirstScroll() {
    const target = intro.getBoundingClientRect().top + window.pageYOffset - navHeight;
    window.scrollTo({ top: target, behavior: 'smooth' });
  }
  window.addEventListener('scroll', handleFirstScroll, { once: true });
}

function initPutterModalTrigger() {
  const btn = document.querySelector('#putter-intro .intro-btn');
  if (!btn) return;
  const product = productData.find(p => p.id === 'kh888_putter');
  if (!product) return;
  btn.addEventListener('click', () => {
    window.location.href = `products.html?product=${product.id}`;
  });
}

function initProductDeepLink() {
  const grid = document.getElementById('product-grid');
  if (!grid) return;
  const params = new URLSearchParams(window.location.search);
  const productId = params.get('product');
  if (!productId) return;
  const product = productData.find(p => p.id === productId);
  if (!product) return;
  if (!modal) return;
  requestAnimationFrame(() => openProductModal(product));
  if (history.replaceState) {
    const url = new URL(window.location);
    url.searchParams.delete('product');
    history.replaceState({}, '', `${url.pathname}${url.search}${url.hash}`);
  }
}

function initMobileMenu() {
  const menuToggle = document.getElementById('menu-toggle');
  const nav = document.querySelector('nav');
  const overlay = document.getElementById('nav-overlay');
  if (!menuToggle || !nav) return;

  const setMenuState = isOpen => {
    nav.classList.toggle('open', isOpen);
    menuToggle.classList.toggle('open', isOpen);
    menuToggle.setAttribute('aria-expanded', String(isOpen));
    if (overlay) {
      overlay.classList.toggle('active', isOpen);
    }
  };

  setMenuState(false);

  menuToggle.addEventListener('click', () => {
    const shouldOpen = !nav.classList.contains('open');
    setMenuState(shouldOpen);
  });

  if (overlay) {
    overlay.addEventListener('click', () => setMenuState(false));
  }
}

function initDeviceDetection() {
  const body = document.body;
  function updateDevice() {
    const width = window.innerWidth;
    let newDevice;
    if (width <= 600) {
      newDevice = 'device-phone';
    } else if (width <= 992) {
      newDevice = 'device-tablet';
    } else {
      newDevice = 'device-desktop';
    }
    if (currentDevice !== newDevice) {
      body.classList.remove('device-phone', 'device-tablet', 'device-desktop');
      body.classList.add(newDevice);
      currentDevice = newDevice;
      initCarousel();
      const nav = document.querySelector('nav');
      if (nav) nav.classList.remove('open');
      const menuToggle = document.getElementById('menu-toggle');
      if (menuToggle) {
        menuToggle.classList.remove('open');
        menuToggle.setAttribute('aria-expanded', 'false');
      }
      const overlay = document.getElementById('nav-overlay');
      if (overlay) overlay.classList.remove('active');
    }
  }
  updateDevice();
  window.addEventListener('resize', updateDevice);
}

const productData = [
  {
    id: 'kh888',
    nameKey: 'product_kh888_name',
      descKey: 'product_kh888_desc',
      priceKey: 'product_kh888_price',
      detailsKey: 'product_kh888_details',
      specsKey: 'product_kh888_specs',
      image: 'DRIVERS/KH888/KH888.jpg',
    images: [
      'DRIVERS/KH888/KH888.jpg',
      'DRIVERS/KH888/163040d2a71f650c8db20e82842ed001.jpg',
      'DRIVERS/KH888/1bd8db61bfe2d55cc16879b197540a17.jpg',
      'DRIVERS/KH888/79806404c304699e68660657e00aaa57.jpg'
    ],
    category: 'clubs',
    type: 'drivers'
  },
  {
    id: 'kh888_putter',
    nameKey: 'product_kh888_putter_name',
    descKey: 'product_kh888_putter_desc',
    priceKey: 'product_kh888_putter_price',
    detailsKey: 'product_kh888_putter_details',
    specsKey: 'product_kh888_putter_specs',
    image: 'PUTTER/PUTTERKH888img/IMG_0023.jpeg',
    images: [
      'PUTTER/PUTTERKH888img/IMG_0023.jpeg',
      'PUTTER/PUTTERKH888img/IMG_0024.jpeg',
      'PUTTER/PUTTERKH888img/IMG_0025.jpeg',
      'PUTTER/PUTTERKH888img/IMG_0026.jpeg'
    ],
    category: 'clubs',
    type: 'putters'
  },
  {
    id: 'kh555',
    nameKey: 'product_kh555_name',
    descKey: 'product_kh555_desc',
    priceKey: 'product_kh555_price',
    detailsKey: 'product_kh555_details',
    specsKey: 'product_kh555_specs',
    image: 'KH555/9182c9a214b86d5914344b07696bfe3e.jpg',
    images: [
      'KH555/9182c9a214b86d5914344b07696bfe3e.jpg',
      'KH555/2781a0ba27f8d0c53a3f435136f0b1e1.jpg',
      'KH555/30f2ed2ad346e02591f747cee3e8a232.jpg',
      'KH555/7b7e2b56cc90f6bbbbb50675905656b5.jpg'
    ],
    category: 'clubs',
    type: 'drivers'
  },
  {
    id: 'kh460',
    nameKey: 'product_kh460_name',
    descKey: 'product_kh460_desc',
    priceKey: 'product_kh460_price',
    detailsKey: 'product_kh460_details',
    specsKey: 'product_kh460_specs',
    image: 'KH460/coverKH460.jpg',
    images: [
      'KH460/coverKH460.jpg',
      'KH460/s-l1600.png',
      'KH460/s3214.png',
      'KH460/coverKH460.jpg',
      'KH460/sasdad.jpg',
      'KH460/dadad.jpg'
    ],
    category: 'clubs',
    type: 'drivers'
  },
  {
    id: 'white_oyster_irons',
    nameKey: 'product_white_oyster_name',
    descKey: 'product_white_oyster_desc',
    priceKey: 'product_white_oyster_price',
    detailsKey: 'product_white_oyster_details',
    specsKey: 'product_white_oyster_specs',
    image: 'IRONS/WHITE OYSTER/61688Wn8q7L._AC_SL1500_.jpg',
    images: [
      'IRONS/WHITE OYSTER/61688Wn8q7L._AC_SL1500_.jpg',
      'IRONS/WHITE OYSTER/61Ozsa3UT2L._AC_SL1500_.jpg',
      'IRONS/WHITE OYSTER/61UGnL1FL9L._AC_SL1500_.jpg',
      'IRONS/WHITE OYSTER/61Y9b+NjKvL._AC_SL1500_.jpg',
      'IRONS/WHITE OYSTER/71VXdND3xhL._AC_SL1500_.jpg'
    ],
    category: 'clubs',
    type: 'irons'
  },
  {
    id: 'platinum_rescue',
    nameKey: 'product_rescue_name',
    descKey: 'product_rescue_desc',
    priceKey: 'product_rescue_price',
    detailsKey: 'product_rescue_details',
    image: 'products/IMG_0259.png',
    images: [
      'products/IMG_0259.png'
    ],
    category: 'clubs',
    type: 'rescue'
  }
];

let modal, modalImg, modalPrev, modalNext, modalClose;
let modalTitle, modalDesc, modalDetails, modalSpecs;
let modalImages = [];
let modalIndex = 0;
let modalTimer;

function openProductModal(product) {
  modalImages = product.images;
  modalIndex = 0;
  const lang = document.documentElement.lang || 'en';
  updateModalImage();
  if (modalTitle) {
    modalTitle.textContent = translations[lang][product.nameKey];
    if (product.id === 'kh888') {
      modalTitle.classList.add('kh888-highlight');
    } else {
      modalTitle.classList.remove('kh888-highlight');
    }
  }
  if (modalDesc) modalDesc.textContent = translations[lang][product.descKey];
  if (modalDetails && product.detailsKey) {
    modalDetails.textContent = translations[lang][product.detailsKey];
  }
  if (modalSpecs) {
    if (product.specsKey) {
      const specsContent = translations[lang][product.specsKey] || translations['en'][product.specsKey];
      modalSpecs.innerHTML = specsContent;
      modalSpecs.classList.remove('hidden');
    } else {
      modalSpecs.classList.add('hidden');
    }
  }
  modal.classList.remove('hidden', 'closing');
  const content = modal.querySelector('.modal-content');
  if (content) content.classList.remove('closing');
  document.body.classList.add('modal-open');
  modalTimer = setInterval(nextModalImage, 3000);
}

function closeProductModal() {
  if (!modal) return;
  clearInterval(modalTimer);
  const content = modal.querySelector('.modal-content');
  modal.classList.add('closing');
  if (content) content.classList.add('closing');
  const handleAnimationEnd = () => {
    modal.classList.add('hidden');
    modal.classList.remove('closing');
    if (content) content.classList.remove('closing');
  };
  if (content) {
    content.addEventListener('animationend', handleAnimationEnd, { once: true });
  } else {
    handleAnimationEnd();
  }
  document.body.classList.remove('modal-open');
}

function updateModalImage() {
  if (modalImg) {
    modalImg.classList.remove('fade');
    void modalImg.offsetWidth;
    modalImg.src = modalImages[modalIndex];
    modalImg.classList.add('fade');
  }
}

function nextModalImage() {
  modalIndex = (modalIndex + 1) % modalImages.length;
  updateModalImage();
}

function prevModalImage() {
  modalIndex = (modalIndex - 1 + modalImages.length) % modalImages.length;
  updateModalImage();
}

function initProductModal() {
  modal = document.getElementById('product-modal');
  if (!modal) return;
  modalImg = modal.querySelector('.modal-image');
  modalPrev = modal.querySelector('.prev');
  modalNext = modal.querySelector('.next');
  modalClose = modal.querySelector('.close');
  modalTitle = modal.querySelector('.modal-title');
  modalDesc = modal.querySelector('.modal-desc');
  modalDetails = modal.querySelector('.modal-details');
  modalSpecs = modal.querySelector('.modal-specs');
  if (modalImg) {
    modalImg.addEventListener('animationend', () => modalImg.classList.remove('fade'));
  }
  if (modalPrev) modalPrev.addEventListener('click', e => { e.stopPropagation(); prevModalImage(); });
  if (modalNext) modalNext.addEventListener('click', e => { e.stopPropagation(); nextModalImage(); });
  if (modalClose) modalClose.addEventListener('click', closeProductModal);
  modal.addEventListener('click', e => { if (e.target === modal) closeProductModal(); });
}

function renderProducts(filter = {}) {
  const grid = document.getElementById('product-grid');
  if (!grid) return;
  grid.innerHTML = '';
  updateProductHeading(filter);
  const lang = document.documentElement.lang || 'en';
  const items = productData.filter(p => {
    if (filter.category && p.category !== filter.category) return false;
    if (filter.type && p.type !== filter.type) return false;
    return true;
  });
  if (!items.length) {
    const msg = document.createElement('p');
    msg.setAttribute('data-i18n', 'no_products');
    msg.textContent = translations[lang].no_products;
    grid.appendChild(msg);
    return;
  }
  items.forEach(p => {
    const div = document.createElement('div');
    div.className = 'product animate';
    const name = translations[lang][p.nameKey];
    div.innerHTML = `
      <img src="${p.image}" alt="${name}" data-i18n-alt="${p.nameKey}" class="product-image" loading="lazy">
      <h2 data-i18n="${p.nameKey}">${name}</h2>
      <p data-i18n="${p.descKey}">${translations[lang][p.descKey]}</p>
    `;
    div.addEventListener('click', () => openProductModal(p));
    grid.appendChild(div);
  });
  initAnimations();
}

function updateProductFilterURL(filter) {
  const params = new URLSearchParams(window.location.search);
  if (filter.type) {
    params.set('type', filter.type);
  } else {
    params.delete('type');
  }
  if (filter.category) {
    params.set('category', filter.category);
  } else {
    params.delete('category');
  }
  const queryString = params.toString();
  const newUrl = queryString ? `${window.location.pathname}?${queryString}` : window.location.pathname;
  if (history.replaceState) {
    history.replaceState({}, '', newUrl);
  }
}

function saveProductsScroll() {
  try {
    localStorage.setItem('productsScrollTop', String(window.scrollY));
  } catch (e) {
    /* ignore storage errors */
  }
}

function restoreProductsScroll() {
  const isProductsPage = window.location.pathname.endsWith('products.html') || window.location.pathname.endsWith('/products');
  if (!isProductsPage) return;
  let saved = null;
  try {
    saved = localStorage.getItem('productsScrollTop');
    if (saved !== null) {
      localStorage.removeItem('productsScrollTop');
    }
  } catch (e) {
    saved = null;
  }
  const top = saved !== null ? parseInt(saved, 10) : null;
  if (Number.isFinite(top) && top > 0) {
    requestAnimationFrame(() => {
      window.scrollTo({ top, behavior: 'auto' });
    });
  }
}

function navigateToCollection(filter) {
  saveProductsScroll();
  const params = new URLSearchParams();
  if (filter.category) params.set('category', filter.category);
  if (filter.type) params.set('type', filter.type);
  const queryString = params.toString();
  const target = queryString ? `category.html?${queryString}` : 'category.html';
  window.location.href = target;
}

function updateProductHeading(filter) {
  const heading = document.getElementById('product-heading');
  if (!heading) return;
  const lang = document.documentElement.lang || 'en';
  const t = translations[lang] || translations['en'];
  let text = (t && t.products_title) || 'Products';
  if (filter.type) {
    const typeKey = `club_${filter.type}`;
    text = (t && t[typeKey]) || filter.type;
  } else if (filter.category) {
    const categoryKey = `category_${filter.category}`;
    text = (t && t[categoryKey]) || filter.category;
  }
  heading.textContent = text;
}

function toggleCategoryHero(type) {
  const hero = document.querySelector('.category-hero');
  const label = document.querySelector('.category-hero .hero-label');
  const img = document.querySelector('.category-hero .hero-club-img');
  const heading = document.getElementById('product-heading');
  if (!hero || !label || !img) return;

  const lang = document.documentElement.lang || 'en';
  const t = translations[lang] || translations['en'];

  const heroData = {
    drivers: { textKey: 'club_drivers', src: 'products/unnamed.png', altKey: 'hero_alt_drivers', fallbackText: 'DRIVERS', fallbackAlt: 'Kentack driver hero' },
    irons: { textKey: 'club_irons', src: 'products/IMG_0260.png', altKey: 'hero_alt_irons', fallbackText: 'IRONS', fallbackAlt: 'Kentack irons hero' },
    putters: { textKey: 'club_putters', src: 'products/IMG_0261.png', altKey: 'hero_alt_putters', fallbackText: 'PUTTERS', fallbackAlt: 'Kentack putter hero' },
    rescue: { textKey: 'club_rescue', src: 'products/IMG_0259.png', altKey: 'hero_alt_rescue', fallbackText: 'RESCUE', fallbackAlt: 'Kentack rescue hero' },
    accessories: { textKey: 'club_accessories', src: 'ACCESSORY/hat.png', altKey: 'hero_alt_accessories', fallbackText: 'ACCESSORIES', fallbackAlt: 'Kentack accessories hero' }
  };

  const data = heroData[type];

  if (data) {
    const text = (data.textKey && t[data.textKey]) || data.fallbackText || data.text;
    const alt = (data.altKey && t[data.altKey]) || data.fallbackAlt || data.alt;

    label.textContent = text;
    if (data.textKey) {
      label.setAttribute('data-i18n', data.textKey);
    }
    img.src = data.src;
    img.alt = alt;
    if (data.altKey) {
      img.setAttribute('data-i18n-alt', data.altKey);
    }
    hero.classList.remove('hidden');
    if (heading) heading.classList.add('hidden');
  } else {
    hero.classList.add('hidden');
    if (heading) heading.classList.remove('hidden');
  }
}

function initProducts() {
  const grid = document.getElementById('product-grid');
  if (!grid) return;
  const params = new URLSearchParams(window.location.search);
  const type = params.get('type');
  const category = params.get('category');
  const initialFilter = {};
  if (category) initialFilter.category = category;
  if (type) initialFilter.type = type;
  renderProducts(initialFilter);
  toggleCategoryHero(type);
}

function initCategoryCardFilters() {
  const cards = document.querySelectorAll('[data-category-card]');
  if (!cards.length) return;

  cards.forEach(card => {
    const type = card.getAttribute('data-type');
    const category = card.getAttribute('data-category');
    const filter = {};
    if (category) filter.category = category;
    if (type) filter.type = type;
    const goToCollection = () => navigateToCollection(filter);
    const label = card.querySelector('.club-label');
    if (label) {
      label.setAttribute('tabindex', '0');
      label.setAttribute('role', 'link');
      label.style.cursor = 'pointer';
      label.addEventListener('click', e => {
        e.stopPropagation();
        e.preventDefault();
        goToCollection();
      });
      label.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          e.stopPropagation();
          goToCollection();
        }
      });
    }

    card.addEventListener('click', goToCollection);
    card.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        goToCollection();
      }
    });
  });
}

function initDemoVideo() {
  const video = document.querySelector('.product-video video');
  const subtitle = document.querySelector('.video-subtitle');
  if (!video) return;
  video.muted = true;
  video.autoplay = true;
  video.loop = true;
  video.playsInline = true;
  video.removeAttribute('controls');
  video.setAttribute('controlsList', 'nodownload noremoteplayback noplaybackrate');
  video.setAttribute('disablePictureInPicture', '');

  const tryPlay = () => {
    const playPromise = video.play();
    if (playPromise && typeof playPromise.catch === 'function') {
      playPromise.catch(() => {});
    }
  };

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        tryPlay();
      }
    });
  }, { threshold: 0.35 });

  observer.observe(video);
  tryPlay();

  const updateSubtitleColor = () => {
    if (!subtitle) return;
    const t = video.currentTime;
    const withinWhiteWindow = t >= 6 && t <= 8;
    subtitle.style.color = withinWhiteWindow ? '#ffffff' : '#000000';
  };

  video.addEventListener('timeupdate', updateSubtitleColor);
  video.addEventListener('seeked', updateSubtitleColor);
  video.addEventListener('loadedmetadata', updateSubtitleColor);
  updateSubtitleColor();
}

document.addEventListener('DOMContentLoaded', () => {
  initLanguage();
  initTheme();
  initAnimations();
  initDeviceDetection();
  initMobileMenu();
  initNavScroll();
  initProducts();
  initIntroScroll();
  initProductModal();
  initCategoryCardFilters();
  initProductDeepLink();
  initPutterModalTrigger();
  restoreProductsScroll();
  initDemoVideo();
});
